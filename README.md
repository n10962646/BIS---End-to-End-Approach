# IFN646-Project
Mammography Project Repository for IFN646 


## Dataset - CBIS-DDSM (Curated Breast Imaging Subset of DDSM)
- why CBIS-DDSM? A lack of a standard evaluation data set, most algorithms are evaluated on private datasets or on unspecified subsets of public databases → inability to compare performance of methods or reproducibility
- the dataset includes decompressed images, data selection and curation by trained mammographers, updated mass segmentation and bounding boxes, and pathologic diagnosis for training data, formatted similarly to modern computer vision data sets
- contains 753 calcification cases and 891 mass cases
- updated version of DSM providing improved Region-of-interest (ROI) segmentation and improved accessibility of data
- flow of preparation:
![Flow diagram of preparation of CBIS-DDSM](CBISDDSM_preparation_flow.png)
- source code of DDSM: https://github.com/fjeg/ddsm_tools

## Metadata (csv)

| Fields      | Description |
| ----------- | ----------- |
| patient_id     | patient ID: the first 7 characters of images in the case file       |
| breast density        | category of breast, on the scale of 1 - 4 ((1) almost entirely fat, (2) containing scattered areas of fibroglandular density, (3) heterogeneously dense, and (4) extremely dense)|
| left or right breast   |   Left or Right side of the breast    |
| image view   |   CC (craniocaudal) or MLO (mediolateral oblique) **Notes**: The MLO view is taken from the center of the chest outward, while the CC view is taken from above the breast.  |
|abnormality id|Number of abnormality for the image (This is necessary as there are some cases containing multiple abnormalities, both calcifications and masses)|
|abnormality type| mass or calcification|
|mass shape| mass shape (when applicable)|
|mass margin| mass margin (when applicable)|
|calc type|calcification type (when applicable)|
|calc distribution| calcification distribution (when applicable)|
|assessment| BI-RADS assessment, on the scale of 0 - 5|
|pathology|Benign, Benign without call-back, or Malignant|
|subtlety| subtlety rating: Radiologists’ rating of difficulty in viewing the abnormality in the image|
|image file path| image path to full image|
|cropped image file path| image path to cropped image|
|ROI mask file path| image path to the ROI masked image|


## Literature Review - Methdology

| Methods      | Use Cases/ Research Problem | Paper | Code (when available) | Data Preparation |  Methodology |
| ----------- | ----------- |----------- |----------- |----------- | ---------- |
| Breast mass classification (malignant or benign)  | An integrated framework for breast mass classification and diagnosis using stacked ensemble of residual neural networks | [Link](https://www.nature.com/articles/s41598-022-15632-6#code-availability) | [GitHub](https://github.com/AsmaBaccouche/Stacked-Ensemble-of-Residual-Neural-Networks/tree/main)| - Remove additional noise and correct the data using histogram equalization that smooths the pixel distribution.<br>- Resize the detected and segmented ROIs from 256x256 to 224x224 using interpolation.<br>- Normalize all images to a range of [0, 1].| <ul><li> Methodology employs three pre-trained ResNetV2 architectures. </li><li> Integrated framework detects and localizes breast masses in a first step using YOLO-based fusion models </li><li> The next step should segment the detected ROI of breast masses and generate a binary mask image where only the boundary of the lesions is visible. The second step is achieved using the proposed Connected-UNets model53 that was improved by synthetic data, which is generated by CycleGAN. The segmentation step was conducted on ROI images scaled to optimal size of 256 × 256 pixels. </li><li> The stacked ensemble of ResNet models is trained independently on the input ROI masses for each classification task to finally predict the pathology as either malignant or benign, the BI-RADS category with an assessment score between 2 to 6, and the shape as either round, oval, lobulated or irregular. </li></ul>| |
| Use a MobileNet based technique                   | Breast Cancer Detection and Localization Using MobileNet Based Transfer Learning for Mammograms | [Link](https://link.springer.com/chapter/10.1007/978-3-030-43364-2_2) | n/a | <ul><li> Apply adaptive mean filter Contrast Limited Adaptive Histogram Equalization (CLAHE) and median filter to remove noise and enhance mammograms contrast.</li><li> Remove images with an aspect ratio of less than 0.4 and greater than 1.5.</li><li> Resize images to 224x224 using cubic interpolation for up-sampling and area interpolation for down-sampling.</li><li> Avoid overfitting due to small data size by applying data augmentation and transformations such as flipping, rotation, zooming, and random scaling. </li></ul> | |
| Classify breast cancer into benign vs malignant | MobileNet-Based Model for Histopathological Breast Cancer Image Classification | [Link](https://link.springer.com/chapter/10.1007/978-3-031-27409-1_58) | n/a | <ul><li> Create multiple versions of each image.</li><li> Address class imbalance by applying horizontal flip transformations to generate synthetic high-quality fake images from the available distribution of the minority data (benign).</li><li> Increase training size with vertical flip, rotation, cropping, and sharpening techniques. </li></ul> | |
| Invasive ductal carcinoma (IDC) classification    | Breast Cancer Classification Using Transfer Learning | [Link](https://link.springer.com/chapter/10.1007/978-981-15-7804-5_32) | n/a | <ul><li> Handle imbalance by undersampling the majority class (random without replacement).</li><li> Apply image augmentation techniques, including zoom, flips, and rotations.</li></ul> | |
| Handling the dataset for CBIS-DDSM mass|            | [Kaggle](https://www.kaggle.com/code/ahmedelmoataz/handling-the-dataset-for-cbis-ddsm-mass) | n/a | <ul><li> Utilize a custom CNN, VGG16, and ResNet50 for recognition in two scenarios: binary (normal vs. abnormal) or multi-classification (normal vs. benign vs. malignant). </li></ul> | |
| Recognize in two scenarios: binary or multi-class  | A Hybrid Workflow of Residual Convolutional Transformer Encoder for Breast Cancer Classification Using Digital X-ray Mammograms | [Link](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC9687367/) | n/a | <ul><li> Use MIRCODICOM software to convert all collected images into TIFF format (lossless formats). </li></ul> | |
| Fused Image and Non-image features classification - in predictions of the probability of malignancy on breast level | End-to-End Learning of Fused Image and Non-Image Features for Improved Breast Cancer Classification from MRI | [Link](https://openaccess.thecvf.com/content/ICCV2021W/CVAMD/html/Holste_End-to-End_Learning_of_Fused_Image_and_Non-Image_Features_for_Improved_ICCVW_2021_paper.html) | [GitHub](https://github.com/gholste/breast_mri_fusion) | |



## Other CBIS-DDSM Projects
- https://www.kaggle.com/code/ahmedelmoataz/handling-the-dataset-for-cbis-ddsm-mass
- https://jordankupersmith.github.io/its_not_a_tumor/projectdetails/
- https://nycdatascience.com/blog/student-works/capstone/abnormality-detection-in-mammography-using-deep-learning/
- https://medium.com/@ericscuccimarra/convnets-for-classifying-ddsm-mammograms-1739e0fe8028
- https://github.com/ovh/ai-training-examples/blob/main/notebooks/computer-vision/image-classification/tensorflow/resnet50/     notebook-resnet-transfer-learning-image-classification.ipynb ( Source - Image only)

## Research proposal questions (Draft): 

•	How much does the accuracy (accuracy, precision, recall, F1-score, ROC AUC) of breast cancer diagnosis improved as the number of views or columns increases? 

•	How much does the accuracy of breast cancer diagnosis improved between ‘patient-like-me’ and ‘end-to-end’ approaches?


